<!-- bg image -->
<div class="bg-img"><img src="../../../assets/img/stacked-waves-haikei.svg"></div>

<div class="container">

    <!-- forum cards -->
    <div class="d-flex forum position-relative my-4 p-3 shadow rounded-2">
        <div>
            <h5 class="mt-0"><strong>{{discussionforum.topic}}</strong></h5>
            <p class="font-monospace">{{discussionforum.description}}</p>

            <div class="details text-end text-muted font-monospace fs-8">
                by- <strong>{{discussionforum.createdBy}}</strong> asked at {{discussionforum.createdAt}}
            </div>
        </div>
    </div>

    <!-- heading -->
    <div class="col-12 text-center mx-auto mt-5 mb-5 font-monospace">
        <h3 class="w-50 mx-auto bg-info fw-bold text-white">Discussion Replies</h3>
        <div class="border border-2 border-bottom border-info w-50 mx-auto"></div>
    </div>
    <!-- create discussions -->
    <button class="btn btn-outline-info fw-bolder font-monospace fs-9 m-0 py-2 mb-" data-bs-toggle="modal" data-bs-target="#addMessage"><i
        class="bi bi-plus-circle me-2"></i>REPLY TO THIS DISCUSSION</button>

    <!-- create discussions modal -->
    <div class="modal fade modal-auto-clear" data-bs-timer="1000" id="addMessage" tabindex="-1" aria-labelledby="addMessageLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-dark text-white">
            <div class="modal-header">
            <h1 class="modal-title fs-5 font-monospace" id="addMessageLabel">ADD DISCUSSION</h1>
            <button type="button" class="btn-close btn-close-danger" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            <form (ngSubmit)="addMessage(message)">
                <div class="col-12">
                <label for="dmName" class="form-label">Your Name</label>
                <input type="text" class="form-control rounded-pill" id="dmName" placeholder="Enter Your Name Here"
                    [(ngModel)]="message.name">
                </div>
                <div class="col-12">
                <label for="dfTopic" class="form-label">Message Description</label>
                <input type="text" class="form-control rounded-pill" id="dfTopic" placeholder="Enter Message Description Here"
                    [(ngModel)]="message.description">
                </div>

                <div class="modal-footer mt-3 justify-content-center">
                <button type="submit" class="btn btn-info rounded-pill text-light text-center px-5" data-bs-dismiss="modal">Reply</button>
                <button type="button" class="btn btn-secondary rounded-pill px-5" data-bs-dismiss="modal" ><i class="bi bi-x-circle me-2"></i>Cancel</button>
                </div>
            </form>
            </div>
        </div>
        </div>
    </div>


    <!-- replies -->
    <div *ngFor="let msg of messages" class="d-flex messages position-relative mt-2 mb-5 px-5 py-3">
        <div>
            <h5 class="mt-0"><strong>{{msg.name}}</strong></h5>
            <p class="font-monospace">{{msg.description}}</p>

            <div class="time text-center text-muted font-monospace fs-8">
                 answered at {{msg.createdAt}}
            </div>
        </div>
    </div>

     <!-- empty message displaying -->
  <div *ngIf="messages?.length===0" class="container text-muted text-center fs-4"><strong><i class="bi bi-emoji-frown me-2"></i>Sorry, Nobody replied to this Question yet!</strong>
  </div>


</div>